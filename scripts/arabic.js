// Initialization. Should end with a call to display().
var init = function() {
  checkData();                  // comment out when all data has been checked
  document.title = "Arabic-English Dictionary";
  document.getElementById("logo").innerHTML = "<img src=\"img/hans-wehr-ar-en.jpg\" />";
  document.getElementById("title").innerHTML = "Arabic - English";
  document.getElementById("dictionary").innerHTML = "Hans Wehr - J.M.Cowan<br>3rd ed., 1976.";
  display();
};

// Returns "less" when a < b, "equal" when a = b, "greater" when a > b.
var wordCompare = function(a, b) {
  var alphabet = "ءابتثجحخدذرزسشصضطظعغفقكلمنهوي"; // note the position of hamza
  var canonicalForm = function(word) {
    var result = "";
    for (var i = 0; i < word.length; ++i) {
      if (word[i] == 'أ')
        result += 'ء';
      else if (word[i] == 'ى')
        result += 'ي';
      else
        result += word[i];
    }
    return result;
  };
  a = canonicalForm(a);
  b = canonicalForm(b);
  var i = 0;
  while (true) {
    if (i == a.length && i == b.length)
      return "equal";
    if (i == a.length)
      return "less";
    if (i == b.length)
      return "greater";
    var x = alphabet.indexOf(a[i]);
    var y = alphabet.indexOf(b[i]);
    if (x < 0 || y < 0)
      return undefined;
    if (x < y)
      return "less";
    if (x > y)
      return "greater";
    ++i;
  }
};

var page_zoom = 2.2;

// Dictionary pages
var images = "data/arabdic-";
var image_extension = ".png";
var start_page = 18;
var headwords = [               // first words in each page
  // Unfortunately this dictionary has only the _last_ word for the odd pages,
  // so counting may be off by a page. But since it looks only for the roots,
  // some user interaction is always counted upon...
"ا",
"ابر",
"اثر",
"اثر",
"اجر",
"اجر",
"اخذ",
"اخذ",
"ادب",
"ادب",
"اذن",
"اذن",
"ارن",
"ارن",
"است",
"است",
"اسو",
"اسو",
"اطل",
"اطل",
"اكل",
"اكل",
"الف",
"الف",
"ام",
"ام",
"امر",
"امر",
"انب",
"انب",
"انق",
"انق",
"اوج",
"اوح",
"اوم",
"اوم",
"اين",
"اين",
"باط",
"باغ",
"بح",
"بحبح",
"بخل",
"بخل",
"بدع",
"بدع",
"بدو",
"بدو",
"برء",
"برء",
"برد",
"برد",
"برق",
"برق",
"بره",
"بره",
"بسط",
"بسط",
"بشر",
"بشر",
"بضع",
"بضع",
"بطل",
"بطل",
"بعد",
"بعد",
"بغل",
"بغي",
"بكر",
"بكر",
"بلج",
"بلج",
"بلغ",
"بلغ",
"بلو",
"بلو",
"بني",
"بني",
"بهم",
"بهم",
"بور",
"بور",
"بول",
"بول",
"بيض",
"بيض",
"بين",
"بين",
"تبع",
"تبع",
"تحت",
"تحت",
"ترك",
"ترك",
"تك",
"تك",
"تم",
"تم",
"تير",
"تير",
"ثبت",
"ثبت",
"ثقب",
"ثقف",
"ثلج",
"ثلج",
"ثني",
"ثني",
"ثيت",
"جاث",
"جبن",
"جبن",
"جد",
"جد",
"جذب",
"جذب",
"جرء",
"جرء",
"جرد",
"جرد",
"جري",
"جري",
"جزع",
"جزف",
"جسر",
"جسط",
"جف",
"جف",
"جلب",
"جلب",
"جلم",
"جلم",
"جمد",
"جمد",
"جمع",
"جمع",
"جمل",
"جمل",
"جنب",
"جنب",
"جني",
"جني",
"جهز",
"جهز",
"جوب",
"جوت",
"جوز",
"جوز",
"جون",
"جوه",
"حب",
"حب",
"حبس",
"حبس",
"حث",
"حث",
"حجر",
"حجز",
"حد",
"حد",
"حدث",
"حدث",
"حذر",
"حذر",
"حر",
"حرب",
"حرس",
"حرس",
"حرق",
"حرق",
"حرم",
"حرم",
"حزم",
"حزم",
"حسب",
"حسب",
"حسن",
"حسن",
"حشم",
"حشم",
"حصر",
"حصر",
"حضر",
"حضر",
"حط",
"حط",
"حف",
"حف",
"حفظ",
"حفظ",
"حق",
"حق",
"حقر",
"حقر",
"حكم",
"حكم",
"حكي",
"حكي",
"حل",
"حل",
"حلق",
"حلق",
"حم",
"حم",
"حمض",
"حمض",
"حمل",
"حمل",
"حنث",
"حنج",
"حوج",
"حوج",
"حوش",
"حوش",
"حول",
"حول",
"حول",
"حول",
"حي",
"حي",
"حيد",
"حيد",
"حيو",
"خاء",
"خبر",
"خبر",
"خثر",
"خثر",
"خدم",
"خدم",
"خرج",
"خرج",
"خرج",
"خرج",
"خرق",
"خرق",
"خزن",
"خزن",
"خشع",
"خشف",
"خص",
"خص",
"خضر",
"خضر",
"خطب",
"خطب",
"خطف",
"خطف",
"خفت",
"خفر",
"خفي",
"خفي",
"خلد",
"خلد",
"خلط",
"خلط",
"خلف",
"خلف",
"خلو",
"خلو",
"خمر",
"خمس",
"خنق",
"خنق",
"خون",
"خون",
"خيط",
"خيل",
"دب",
"دب",
"دج",
"دجر",
"دخل",
"دخل",
"درب",
"درب",
"درد",
"درز",
"درك",
"درك",
"دعب",
"دعب",
"دعو",
"دعو",
"دفع",
"دفع",
"دق",
"دق",
"دل",
"دل",
"دمج",
"دمج",
"دن",
"دنا",
"دهش",
"دهش",
"دود",
"دود",
"دور",
"دور",
"دوغ",
"دوف",
"دون",
"دون",
"دين",
"دين",
"ذبل",
"ذحل",
"ذقن",
"ذقن",
"ذل",
"ذلذ",
"ذهب",
"ذهب",
"ذوق",
"ذوق",
"رأس",
"رأس",
"رأي",
"رأي",
"ربط",
"ربط",
"ربك",
"ربك",
"رتم",
"رتو",
"رجع",
"رجع",
"رجن",
"رجو",
"رحم",
"رحم",
"رد",
"رد",
"ردي",
"ردي",
"رسر",
"رسغ",
"رسم",
"رسم",
"رشد",
"رشر",
"رضر",
"رضع",
"رعص",
"رعف",
"رغم",
"رغم",
"رفع",
"رفع",
"رفه",
"رفه",
"رقد",
"رقد",
"رك",
"رك",
"ركز",
"ركز",
"رمز",
"رمز",
"رنق",
"رنم",
"روب",
"روب",
"روح",
"روح",
"روع",
"روع",
"روي",
"روي",
"ريم",
"ريم",
"زجل",
"زجل",
"زرع",
"زرع",
"زعم",
"زعم",
"زكو",
"زكو",
"زمز",
"زمط",
"زهد",
"زهر",
"زود",
"زود",
"زي",
"زي",
"زير",
"زيز",
"سأم",
"سأم",
"سبر",
"سبر",
"سبق",
"سبك",
"سجد",
"سجد",
"سحج",
"سحج",
"سخف",
"سخل",
"سدل",
"سدل",
"سرب",
"سرب",
"سرع",
"سرع",
"سطر",
"سطر",
"سعل",
"سعل",
"سفل",
"سفل",
"سقل",
"سقم",
"سكر",
"سكر",
"سل",
"سلأ",
"سلس",
"سلس",
"سلك",
"سلك",
"سلم",
"سلم",
"سم",
"سم",
"سمس",
"سمس",
"سمن",
"سمن",
"سنا",
"سنا",
"سنط",
"سنط",
"سهل",
"سهل",
"سوخ",
"سود",
"سوع",
"سوع",
"سوك",
"سول",
"سيا",
"سيب",
"سيس",
"سيس",
"شأن",
"شأن",
"شبر",
"شبر",
"شبه",
"شبه",
"شجر",
"شجر",
"شحن",
"شحن",
"شد",
"شد",
"شر",
"شر",
"شرد",
"شرد",
"شرع",
"شرع",
"شرق",
"شرق",
"شرو",
"شري",
"شطف",
"شطن",
"شعر",
"شعر",
"شغل",
"شغل",
"شفر",
"شفر",
"شق",
"شق",
"شك",
"شك",
"شكو",
"شكو",
"شمر",
"شمر",
"شنج",
"شنخ",
"شهد",
"شهد",
"شوب",
"شوب",
"شوق",
"شوق",
"شيأ",
"شيأ",
"شيع",
"شيع",
"صب",
"صب",
"صبع",
"صبغ",
"صحب",
"صحب",
"صخب",
"صخب",
" صدر",
"صدر",
"صدق",
"صدل",
"صرع",
"صرع",
"صرف",
"صرف",
"صغر",
"صغر",
"صفر",
"صفر",
"صفو",
"صفو",
"صلح",
"صلح",
"صلف",
"صلف",
"صنا",
"صنب",
"صهر",
"صهر",
"صور",
"صور",
"صون",
"صون",
"ضأل",
"ضأل",
"ضحك",
"ضحك",
"ضر",
"ضر",
"ضرب",
"ضرب",
"ضعف",
"ضعف",
"ضلع",
"ضلع",
"ضمن",
"ضمن",
"ضيع",
"ضيع",
"ضيم",
"ط",
"طبع",
"طبع",
"طبن",
"طبن",
"طرح",
"طرح",
"طرف",
"طرف",
"طرو",
"طرو",
"طفأ",
"طفح",
"طلب",
"طلب",
"طلع",
"طلع",
"طلم",
"طلم",
"طمن",
"طمن",
"طود",
"طود",
"طوف",
"طوف",
"طول",
"طول",
"طيب",
"طيب",
"طيش",
"طيش",
"ظل",
"ظل",
"ظهر",
"ظهر",
"عبأ",
"عبأ",
"عبر",
"عبر",
"عتك",
"عتل",
"عجر",
"عجر",
"عجم",
"عجم",
"عدس",
"عدل",
"عدم",
"عدن",
"عذب",
"عذب",
"عرب",
"عرب",
"عرض",
"عرض",
"عرف",
"عرف",
"عرق",
"عرق",
"عز",
"عز",
"عزو",
"عزو",
"عش",
"عشب",
"عصب",
"عصب",
"عصو",
"عصو",
"عطر",
"عطر",
"عطل",
"عطل",
"عظم",
"عظم",
"عق",
"عق",
"عقد",
"عقد",
"عقف",
"عقل",
"عكس",
"عكس",
"علف",
"علف",
"علم",
"علم",
"علو",
"علو",
"علو",
"علو",
"عمد",
"عمد",
"عمر",
"عمر",
"عمل",
"عمل",
"عنب",
"عنت",
"عنق",
"عنق",
"عهد",
"عهد",
"عود",
"عود",
"عوذ",
"عوذ",
"عوق",
"عوق",
"عي",
"عي",
"عيش",
"عيش",
"عين",
"غاب",
"غجر",
"غد",
"غر",
"غر",
"غرز",
"غرس",
"غرن",
"غرو",
"غسل",
"غش",
"غض",
"غض",
"غفر",
"غفر",
"غل",
"غلب",
"غلف",
"غلف",
"غمر",
"غمر",
"غند",
"غند",
"غور",
"غوز",
"غيب",
"غيب",
"فأت",
"فأت",
"فتح",
"فتح",
"فتن",
"فتن",
"فجع",
"فجع",
"فخر",
"فخر",
"فرت",
"فرت",
"فرد",
"فرد",
"فرض",
"فرض",
"فرغ",
"فرغ",
"فرق",
"فرق",
"فسح",
"فسح",
"فسل",
"فسو",
"فصل",
"فصل",
"فضل",
"فضل",
"فطر",
"فطر",
"فعل",
"فعم",
"فك",
"فك",
"فلت",
"فلت",
"فلو",
"فلو",
"فهد",
"فهر",
"فور",
"فور",
"فوه",
"فوه",
"فيك",
"فيل",
"قبح",
"قبح",
"قبل",
"قبل",
"قبل",
"قبل",
"قحط",
"قحط",
"قدر",
"قدر",
"قدم",
"قدم",
"قدم",
"قدم",
"قر",
"قر",
"قرب",
"قرب",
"قرح",
"قرح",
"قرع",
"قرع",
"قرن",
"قرن",
"قزو",
"قس",
"قسو",
"قسو",
"قص",
"قص",
"قصر",
"قصر",
"قصم",
"قصم",
"قضي",
"قضي",
"قطر",
"قطر",
"قطع",
"قطع",
"قطع",
"قطع",
"قعد",
"قعد",
"قفع",
"قفق",
"قلا",
"قلب",
"قلب",
"قلب",
"قلق",
"قلق",
"قمر",
"قمر",
"قنب",
"قنب",
"قنم",
"قنو",
"قود",
"قود",
"قول",
"قول",
"قوم",
"قوم",
"قوم",
"قوم",
"قيد",
"قيد",
"قيض",
"قيض",
"كار",
  // TODO
"يود"
];
